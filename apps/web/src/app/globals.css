/* Import distinctive display font - Clash Display for manifesto energy */
/* @import must come before @tailwind directives */
@import url('https://api.fontshare.com/v2/css?f[]=clash-display@400,500,600,700&display=swap');

/* Import design system tokens from @hive/ui */
/* This provides --life-*, --status-*, --bg-*, --text-* variables used by primitives */
@import '../../../../packages/ui/src/design-system/tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * HIVE Design System - Dark-First
 * Apple/Vercel craft with HIVE warmth (gold)
 * No light mode - dark is the only mode
 */

:root {
  /* ===================================
   * FOUNDATION COLORS
   * =================================== */

  /* Core */
  --hive-black: #000000;
  --hive-void: #050505;  /* Deeper than black - the void */
  --hive-white: #FFFFFF;

  /* Background Scale - Neutral, no tint */
  --hive-bg-base: #0A0A0A;        /* Page background */
  --hive-bg-surface: #141414;     /* Cards, inputs, elevated */
  --hive-bg-elevated: #1A1A1A;    /* Hover states */
  --hive-bg-active: #242424;      /* Active/pressed states */

  /* Text Hierarchy */
  --hive-text-primary: #FAFAFA;   /* Main content */
  --hive-text-secondary: #A1A1A6; /* Supporting content */
  --hive-text-subtle: #818187;    /* Timestamps, metadata */
  --hive-text-disabled: #52525B;  /* Disabled states */
  --hive-text-placeholder: #71717A; /* Placeholder text */
  --hive-text-inverse: #000000;   /* Text on gold/light backgrounds */

  /* Border Scale */
  --hive-border-default: #2A2A2A; /* Standard borders */
  --hive-border-hover: #3A3A3A;   /* Hover state borders */
  --hive-border-strong: #4A4A4A;  /* Emphasized borders */
  --hive-border-focus: rgba(255, 255, 255, 0.5); /* Focus rings - white */

  /* ===================================
   * BRAND - GOLD
   * =================================== */
  --hive-gold: #FFD700;
  --hive-gold-hover: #E6C200;
  --hive-gold-dim: #CC9900;
  --hive-gold-glow: rgba(255, 215, 0, 0.15);
  --hive-gold-border: rgba(255, 215, 0, 0.3);
  --hive-gold-subtle: rgba(255, 215, 0, 0.1);

  /* ===================================
   * STATUS COLORS
   * =================================== */
  --hive-status-success: #00D46A;
  --hive-status-success-dim: rgba(0, 212, 106, 0.15);
  --hive-status-warning: #FFB800;
  --hive-status-warning-dim: rgba(255, 184, 0, 0.15);
  --hive-status-error: #FF3737;
  --hive-status-error-dim: rgba(255, 55, 55, 0.15);
  --hive-status-info: #0070F3;
  --hive-status-info-dim: rgba(0, 112, 243, 0.15);

  /* ===================================
   * CATEGORY COLORS (Space Types)
   * Semantic colors for distinguishing content types
   * =================================== */
  --hive-category-university: #3B82F6;
  --hive-category-university-dim: rgba(59, 130, 246, 0.15);
  --hive-category-student: #F59E0B;
  --hive-category-student-dim: rgba(245, 158, 11, 0.15);
  --hive-category-residential: #10B981;
  --hive-category-residential-dim: rgba(16, 185, 129, 0.15);
  --hive-category-greek: #8B5CF6;
  --hive-category-greek-dim: rgba(139, 92, 246, 0.15);

  /* ===================================
   * SEMANTIC ALIASES
   * (for backwards compatibility)
   * =================================== */
  --hive-background-primary: var(--hive-bg-base);
  --hive-background-secondary: var(--hive-bg-surface);
  --hive-background-tertiary: var(--hive-bg-elevated);
  --hive-brand-primary: var(--hive-gold);
  --hive-brand-hover: var(--hive-gold-hover);

  /* Short aliases (widely used across codebase) */
  --bg-ground: var(--hive-bg-base);
  --bg-surface: var(--hive-bg-surface);
  --bg-elevated: var(--hive-bg-elevated);
  --bg-muted: var(--hive-bg-surface);
  --text-primary: var(--hive-text-primary);
  --text-secondary: var(--hive-text-secondary);
  --text-tertiary: var(--hive-text-subtle);
  --text-muted: var(--hive-text-disabled);
  --border-subtle: var(--hive-border-default);
  --border-emphasis: var(--hive-border-strong);
  --life-gold: var(--hive-gold);

  /* Interactive States */
  --hive-interactive-hover: rgba(255, 255, 255, 0.04);
  --hive-interactive-active: rgba(255, 255, 255, 0.08);
  --hive-interactive-focus: rgba(255, 255, 255, 0.5);

  /* ===================================
   * TYPOGRAPHY
   * =================================== */
  --hive-font-sans: var(--font-geist-sans), system-ui, -apple-system, sans-serif;
  --hive-font-display: var(--font-space-grotesk), var(--font-geist-sans), system-ui, sans-serif;
  --hive-font-mono: var(--font-jetbrains-mono), var(--font-geist-mono), ui-monospace, monospace;
  --hive-font-manifesto: var(--font-space-grotesk), system-ui, sans-serif; /* Using Space Grotesk as Clash Display fallback */

  /* Font Sizes */
  --hive-text-xs: 0.75rem;    /* 12px */
  --hive-text-sm: 0.875rem;   /* 14px */
  --hive-text-base: 1rem;     /* 16px */
  --hive-text-lg: 1.125rem;   /* 18px */
  --hive-text-xl: 1.25rem;    /* 20px */
  --hive-text-2xl: 1.5rem;    /* 24px */
  --hive-text-3xl: 2rem;      /* 32px */
  --hive-text-4xl: 2.5rem;    /* 40px */
  --hive-text-5xl: 3rem;      /* 48px */

  /* Line Heights */
  --hive-leading-tight: 1.25;
  --hive-leading-normal: 1.5;
  --hive-leading-relaxed: 1.625;

  /* Letter Spacing */
  --hive-tracking-tight: -0.025em;
  --hive-tracking-normal: 0;
  --hive-tracking-wide: 0.025em;

  /* ===================================
   * SPACING
   * =================================== */
  --hive-space-0: 0;
  --hive-space-1: 0.25rem;   /* 4px */
  --hive-space-2: 0.5rem;    /* 8px */
  --hive-space-3: 0.75rem;   /* 12px */
  --hive-space-4: 1rem;      /* 16px */
  --hive-space-5: 1.25rem;   /* 20px */
  --hive-space-6: 1.5rem;    /* 24px */
  --hive-space-8: 2rem;      /* 32px */
  --hive-space-10: 2.5rem;   /* 40px */
  --hive-space-12: 3rem;     /* 48px */
  --hive-space-16: 4rem;     /* 64px */
  --hive-space-20: 5rem;     /* 80px */
  --hive-space-24: 6rem;     /* 96px */

  /* Touch Targets (A11y) */
  --hive-touch-target: 44px;
  --hive-touch-target-sm: 36px;

  /* ===================================
   * BORDER RADIUS
   * =================================== */
  --hive-radius-sm: 4px;
  --hive-radius-md: 8px;
  --hive-radius-lg: 12px;
  --hive-radius-xl: 16px;
  --hive-radius-2xl: 24px;
  --hive-radius-full: 9999px;

  /* ===================================
   * SHADOWS (Dark Mode Optimized)
   * =================================== */
  --hive-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.4);
  --hive-shadow-md: 0 4px 8px rgba(0, 0, 0, 0.4);
  --hive-shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.5);
  --hive-shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.6);

  /* Gold Glow Shadows */
  --hive-shadow-gold-sm: 0 0 10px rgba(255, 215, 0, 0.1);
  --hive-shadow-gold: 0 0 20px rgba(255, 215, 0, 0.15);
  --hive-shadow-gold-lg: 0 0 40px rgba(255, 215, 0, 0.2);

  /* Elevation Levels */
  --hive-shadow-level1: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2);
  --hive-shadow-level2: 0 4px 6px rgba(0, 0, 0, 0.3), 0 2px 4px rgba(0, 0, 0, 0.2);
  --hive-shadow-level3: 0 10px 20px rgba(0, 0, 0, 0.4), 0 4px 8px rgba(0, 0, 0, 0.2);

  /* ===================================
   * BLUR
   * =================================== */
  --hive-blur-sm: 4px;
  --hive-blur-md: 8px;
  --hive-blur-lg: 16px;
  --hive-blur-xl: 24px;

  /* ===================================
   * TRANSITIONS
   * =================================== */
  --hive-duration-instant: 50ms;
  --hive-duration-fast: 100ms;
  --hive-duration-normal: 200ms;
  --hive-duration-slow: 300ms;
  --hive-duration-slower: 500ms;

  --hive-ease-default: cubic-bezier(0.23, 1, 0.32, 1);
  --hive-ease-snap: cubic-bezier(0.25, 0.1, 0.25, 1);
  --hive-ease-out: cubic-bezier(0, 0, 0.2, 1);
  --hive-ease-in: cubic-bezier(0.4, 0, 1, 1);

  --hive-transition-fast: 100ms var(--hive-ease-default);
  --hive-transition-normal: 200ms var(--hive-ease-default);
  --hive-transition-slow: 300ms var(--hive-ease-default);

  /* ===================================
   * Z-INDEX SCALE
   * =================================== */
  --hive-z-base: 0;
  --hive-z-dropdown: 100;
  --hive-z-sticky: 200;
  --hive-z-modal: 300;
  --hive-z-popover: 400;
  --hive-z-toast: 500;
  --hive-z-command: 600;

  /* ===================================
   * COMPONENT TOKENS
   * =================================== */

  /* Input */
  --hive-input-bg: var(--hive-bg-surface);
  --hive-input-border: var(--hive-border-default);
  --hive-input-border-hover: var(--hive-border-hover);
  --hive-input-border-focus: var(--hive-border-focus);
  --hive-input-placeholder: var(--hive-text-placeholder);

  /* Card */
  --hive-card-bg: var(--hive-bg-surface);
  --hive-card-border: var(--hive-border-default);
  --hive-card-shadow: var(--hive-shadow-level1);

  /* Button */
  --hive-button-primary-bg: var(--hive-white);
  --hive-button-primary-text: var(--hive-black);
  --hive-button-primary-hover: rgba(255, 255, 255, 0.9);
  --hive-button-gold-bg: var(--hive-gold);
  --hive-button-gold-text: var(--hive-black);
  --hive-button-gold-hover: var(--hive-gold-hover);

  /* Avatar */
  --hive-avatar-border: var(--hive-gold);
  --hive-avatar-fallback-bg: var(--hive-bg-elevated);
  --hive-avatar-fallback-text: var(--hive-text-secondary);

  /* Badge */
  --hive-badge-bg: var(--hive-gold-subtle);
  --hive-badge-text: var(--hive-gold);
  --hive-badge-border: var(--hive-gold-border);

  /* Presence Indicators */
  --hive-presence-online: var(--hive-status-success);
  --hive-presence-away: var(--hive-status-warning);
  --hive-presence-busy: var(--hive-status-error);
  --hive-presence-offline: var(--hive-text-disabled);

  /* Legacy Gray Scale (for backwards compat) */
  --hive-gray-1000: #0A0A0A;
  --hive-gray-900: #141414;
  --hive-gray-800: #1A1A1A;
  --hive-gray-700: #2A2A2A;
  --hive-gray-600: #3A3A3A;
  --hive-gray-500: #52525B;
  --hive-gray-400: #71717A;
  --hive-gray-300: #A1A1A6;
  --hive-gray-200: #D4D4D8;
  --hive-gray-100: #E4E4E7;
  --hive-gray-50: #FAFAFA;

  /* Legacy Foundation Aliases */
  --hive-foundation-black: var(--hive-black);
  --hive-foundation-white: var(--hive-white);
  --hive-foundation-gold-500: var(--hive-gold);
}

/* Base Styles */
@layer base {
  * {
    border-color: var(--hive-border-default);
  }

  html {
    scroll-behavior: smooth;
    color-scheme: dark;
  }

  body {
    background-color: var(--hive-bg-base);
    color: var(--hive-text-primary);
    font-family: var(--hive-font-sans);
    font-feature-settings: "rlig" 1, "calt" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Focus styles - White ring */
  :focus-visible {
    outline: 2px solid var(--hive-border-focus);
    outline-offset: 2px;
  }

  /* Selection - Gold highlight */
  ::selection {
    background-color: var(--hive-gold);
    color: var(--hive-black);
  }

  /* Headings - Display font */
  h1, h2, h3 {
    font-family: var(--hive-font-display);
    letter-spacing: var(--hive-tracking-tight);
  }
}

/* Component Utilities */
@layer components {
  /* Card */
  .card {
    background-color: var(--hive-card-bg);
    border-radius: var(--hive-radius-lg);
    border: 1px solid var(--hive-card-border);
    box-shadow: var(--hive-card-shadow);
  }

  /* Button base */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--hive-space-2);
    padding: var(--hive-space-2) var(--hive-space-4);
    border-radius: var(--hive-radius-md);
    font-weight: 500;
    transition: all var(--hive-transition-fast);
    min-height: var(--hive-touch-target);
  }

  .btn-primary {
    background-color: var(--hive-button-primary-bg);
    color: var(--hive-button-primary-text);
  }

  .btn-primary:hover {
    background-color: var(--hive-button-primary-hover);
  }

  .btn-gold {
    background-color: var(--hive-button-gold-bg);
    color: var(--hive-button-gold-text);
  }

  .btn-gold:hover {
    background-color: var(--hive-button-gold-hover);
  }

  .btn-secondary {
    background-color: var(--hive-bg-elevated);
    color: var(--hive-text-primary);
    border: 1px solid var(--hive-border-default);
  }

  .btn-secondary:hover {
    background-color: var(--hive-bg-active);
    border-color: var(--hive-border-hover);
  }

  .btn-ghost {
    background-color: transparent;
    color: var(--hive-text-secondary);
  }

  .btn-ghost:hover {
    background-color: var(--hive-interactive-hover);
    color: var(--hive-text-primary);
  }

  /* Input */
  .input {
    background-color: var(--hive-input-bg);
    border: 1px solid var(--hive-input-border);
    border-radius: var(--hive-radius-md);
    padding: var(--hive-space-2) var(--hive-space-3);
    color: var(--hive-text-primary);
    transition: border-color var(--hive-transition-fast);
    min-height: var(--hive-touch-target);
  }

  .input:hover {
    border-color: var(--hive-input-border-hover);
  }

  .input:focus {
    border-color: var(--hive-input-border-focus);
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.1);
  }

  .input::placeholder {
    color: var(--hive-input-placeholder);
  }

  /* Badge */
  .badge {
    display: inline-flex;
    align-items: center;
    padding: var(--hive-space-1) var(--hive-space-2);
    border-radius: var(--hive-radius-full);
    font-size: var(--hive-text-xs);
    font-weight: 500;
    background-color: var(--hive-badge-bg);
    color: var(--hive-badge-text);
    border: 1px solid var(--hive-badge-border);
  }

  /* Category Indicators (Space types) */
  .category-indicator {
    width: 4px;
    border-radius: var(--hive-radius-full);
    flex-shrink: 0;
  }

  .category-indicator-university { background-color: var(--hive-category-university); }
  .category-indicator-student { background-color: var(--hive-category-student); }
  .category-indicator-residential { background-color: var(--hive-category-residential); }
  .category-indicator-greek { background-color: var(--hive-category-greek); }

  .category-accent-university { background-color: var(--hive-category-university); }
  .category-accent-student { background-color: var(--hive-category-student); }
  .category-accent-residential { background-color: var(--hive-category-residential); }
  .category-accent-greek { background-color: var(--hive-category-greek); }

  .category-text-university { color: var(--hive-category-university); }
  .category-text-student { color: var(--hive-category-student); }
  .category-text-residential { color: var(--hive-category-residential); }
  .category-text-greek { color: var(--hive-category-greek); }

  .category-bg-university { background-color: var(--hive-category-university-dim); }
  .category-bg-student { background-color: var(--hive-category-student-dim); }
  .category-bg-residential { background-color: var(--hive-category-residential-dim); }
  .category-bg-greek { background-color: var(--hive-category-greek-dim); }

  /* Gold glow effect */
  .gold-glow {
    box-shadow: var(--hive-shadow-gold);
  }

  .gold-glow-lg {
    box-shadow: var(--hive-shadow-gold-lg);
  }

  /* Glass effect */
  .glass {
    background: rgba(10, 10, 10, 0.8);
    backdrop-filter: blur(var(--hive-blur-lg));
    -webkit-backdrop-filter: blur(var(--hive-blur-lg));
  }

  .glass-subtle {
    background: rgba(20, 20, 20, 0.6);
    backdrop-filter: blur(var(--hive-blur-md));
    -webkit-backdrop-filter: blur(var(--hive-blur-md));
  }

  /* Interactive hover state */
  .hive-interactive {
    transition: background-color var(--hive-transition-fast);
  }

  .hive-interactive:hover {
    background-color: var(--hive-interactive-hover);
  }

  .hive-interactive:active {
    background-color: var(--hive-interactive-active);
  }
}

/* Reduced Motion Support (A11y) */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Landing page content visibility - ensure content is visible by default */
.landing-visible {
  opacity: 1 !important;
  transform: none !important;
}

/* Utility classes */
@layer utilities {
  /* Text gradient */
  .text-gradient-gold {
    background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Hide scrollbar */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Custom scrollbar (thin, subtle) */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: var(--hive-border-hover) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: var(--hive-border-hover);
    border-radius: var(--hive-radius-full);
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: var(--hive-border-strong);
  }

  /* Truncate */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Animation utilities */
  .animate-in {
    animation: fadeIn var(--hive-duration-normal) var(--hive-ease-default);
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(4px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-pulse-gold {
    animation: pulseGold 2s ease-in-out infinite;
  }

  @keyframes pulseGold {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.4);
    }
    50% {
      box-shadow: 0 0 0 8px rgba(255, 215, 0, 0);
    }
  }

  /* Premium UI Animations */

  /* ShineBorder: Rotating gradient border effect */
  .animate-shine-rotate {
    animation: shineRotate var(--shine-duration, 14s) linear infinite;
  }

  @keyframes shineRotate {
    0% {
      background-position: 0% 0%;
    }
    50% {
      background-position: 100% 100%;
    }
    100% {
      background-position: 0% 0%;
    }
  }

  /* BorderBeam: Light traveling around borders */
  .animate-border-beam {
    animation: borderBeam var(--beam-duration, 12s) linear infinite;
  }

  @keyframes borderBeam {
    0% {
      offset-distance: 0%;
    }
    100% {
      offset-distance: 100%;
    }
  }

  /* Shimmer: Text/element shimmer effect */
  .animate-shimmer {
    animation: shimmer 2.5s linear infinite;
    background-size: 200% 100%;
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  /* Float: Subtle floating animation */
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-5px);
    }
  }

  /* Sparkle spin for particle effects */
  .animate-sparkle-spin {
    animation: sparkleSpin 2s linear infinite;
  }

  @keyframes sparkleSpin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(180deg);
    }
  }

  /* Slide animations for panels */
  .animate-slide-in-right {
    animation: slideInRight var(--hive-duration-slow) var(--hive-ease-default);
  }

  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(100%);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .animate-slide-in-up {
    animation: slideInUp var(--hive-duration-slow) var(--hive-ease-default);
  }

  @keyframes slideInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Scale in for modals/popovers */
  .animate-scale-in {
    animation: scaleIn var(--hive-duration-normal) var(--hive-ease-default);
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
}
